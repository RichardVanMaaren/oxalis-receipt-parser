# oxalis-receipt-parser

Simple receiptfile parser for oxalis for registration of incoming details for Peppol Reporting. An example only which should be customized for each individual situation.

This is also an example on how to create a plugin for Oxalis, tested with Oxalis version 5.2.0

Details on Oxalis can be found at : https://github.com/OxalisCommunity/oxalis

Fysical *.receipt.dat file is stored to /tmp/oxalis_receipt_files and /tmp/oxalis_receipt_files/processed

Do not forget to change the settings in the Oxalis.conf following parameters :


oxalis.path.plugin = /opt/oxalis/oxalis-plugin

oxalis.persister.receipt = plugin


Data is stored in mysql database based on following DDL :


CREATE TABLE `OXALIS_LOGGING` (                                                                                                                                                                                              `id_key` int NOT NULL AUTO_INCREMENT,                                                                                                                                                         `server` varchar(135) DEFAULT NULL,                                                                                                                                                           `senderid` varchar(45) DEFAULT NULL,                                                                                                                                                          `receiverid` varchar(45) DEFAULT NULL,                                                                                                                                                        `message_identifier` varchar(150) DEFAULT NULL,                                                                                                                                               `event_time` datetime DEFAULT NULL,                                                                                                                                                           `protocol` varchar(5) DEFAULT NULL,                                                                                                                                                           `filename` varchar(255) DEFAULT NULL,                                                                                                                                                         `message_subject` varchar(1000) DEFAULT NULL,                                                                                                                                                 `flow` varchar(45) DEFAULT NULL,                                                                                                                                                              `outgoing_status` varchar(2500) DEFAULT NULL,                                                                                                                                                 `senderCn` varchar(255) DEFAULT NULL,                                                                                                                                                         `senderCc` varchar(2) DEFAULT NULL,                                                                                                                                                            `receiverCc` varchar(2) DEFAULT NULL,                                                                                                                                                           PRIMARY KEY (`id_key`) ) ENGINE=InnoDB AUTO_INCREMENT=634509 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
